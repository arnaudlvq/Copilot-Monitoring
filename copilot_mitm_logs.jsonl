{"ts": 1756159360.1369011, "method": "POST", "host": "proxy.individual.githubcopilot.com", "path": "/chat/completions", "status": 200, "latency_total_s": 0.2568511962890625, "ttft_s": 0.2554149627685547, "req_bytes": 11496, "resp_bytes": 7841, "req_ct": "application/json", "resp_ct": "text/event-stream", "req_json_snippet": "{\"messages\": [{\"role\": \"system\", \"content\": \"Your role as an AI assistant is to help developers complete their code tasks by assisting in editing specific sections of code marked by the <|code_to_edit|> and <|/code_to_edit|> tags, while adhering to Microsoft's content policies and avoiding the creation of content that violates copyrights.\\n\\nYou have access to the following information to help you make informed suggestions:\\n\\n- recently_viewed_code_snippets: These are code snippets that the developer has recently looked at, which might provide context or examples relevant to the current task. They are listed from oldest to newest, with line numbers in the form #| to help you understand the edit diff history. It's possible these are entirely irrelevant to the developer's change.\\n- current_file_content: The content of the file the developer is currently working on, providing the broader context of the code. Line numbers in the form #| are included to help you understand the edit diff history.\\n- edit_diff_history: A record of changes made to the code, helping you understand the evolution of the code and the developer's intentions. These changes are listed from oldest to latest. It's possible a lot of old edit diff history is entirely irrelevant to the developer's change.\\n- area_around_code_to_edit: The context showing the code surrounding the section to be edited.\\n- cursor position marked as <|cursor|>: Indicates where the developer's cursor is currently located, which can be crucial for understanding what part of the code they are focusing on.\\n\\nYour task is to predict and complete the changes the developer would have made next in the <|code_to_edit|> section. The developer may have stopped in the middle of typing. Your goal is to keep the developer on the path that you think they're following. Some examples include further implementing a class, method, or variable, or improving the quality of the code. Make sure the developer doesn't get distracted and ensure y...", "resp_json_snippet": null}
{"ts": 1756159360.754058, "method": "POST", "host": "proxy.individual.githubcopilot.com", "path": "/chat/completions", "status": 200, "latency_total_s": 0.25287389755249023, "ttft_s": 0.25202107429504395, "req_bytes": 11255, "resp_bytes": 8334, "req_ct": "application/json", "resp_ct": "text/event-stream", "req_json_snippet": "{\"messages\": [{\"role\": \"system\", \"content\": \"Your role as an AI assistant is to help developers complete their code tasks by assisting in editing specific sections of code marked by the <|code_to_edit|> and <|/code_to_edit|> tags, while adhering to Microsoft's content policies and avoiding the creation of content that violates copyrights.\\n\\nYou have access to the following information to help you make informed suggestions:\\n\\n- recently_viewed_code_snippets: These are code snippets that the developer has recently looked at, which might provide context or examples relevant to the current task. They are listed from oldest to newest, with line numbers in the form #| to help you understand the edit diff history. It's possible these are entirely irrelevant to the developer's change.\\n- current_file_content: The content of the file the developer is currently working on, providing the broader context of the code. Line numbers in the form #| are included to help you understand the edit diff history.\\n- edit_diff_history: A record of changes made to the code, helping you understand the evolution of the code and the developer's intentions. These changes are listed from oldest to latest. It's possible a lot of old edit diff history is entirely irrelevant to the developer's change.\\n- area_around_code_to_edit: The context showing the code surrounding the section to be edited.\\n- cursor position marked as <|cursor|>: Indicates where the developer's cursor is currently located, which can be crucial for understanding what part of the code they are focusing on.\\n\\nYour task is to predict and complete the changes the developer would have made next in the <|code_to_edit|> section. The developer may have stopped in the middle of typing. Your goal is to keep the developer on the path that you think they're following. Some examples include further implementing a class, method, or variable, or improving the quality of the code. Make sure the developer doesn't get distracted and ensure y...", "resp_json_snippet": null}
{"ts": 1756159361.35531, "method": "POST", "host": "proxy.individual.githubcopilot.com", "path": "/v1/engines/gpt-41-copilot/completions", "status": 200, "latency_total_s": 0.2706007957458496, "ttft_s": 0.20700693130493164, "req_bytes": 2943, "resp_bytes": 1299, "req_ct": "application/json", "resp_ct": "text/event-stream", "req_json_snippet": "{\"prompt\": \"# copilot_logger.py\\nimport json, os, re\\nfrom mitmproxy import http, ctx\\n\\nALLOWED_HOSTS = {\\n    \\\"api.githubcopilot.com\\\",\\n    \\\"api.individual.githubcopilot.com\\\",\\n    \\\"proxy.githubcopilot.com\\\",\\n    \\\"proxy.individual.githubcopilot.com\\\",\\n}\\nLOG_PATH = os.path.expanduser(\\\"~/.mitmproxy/intercepter_vscode/copilot_mitm_logs.jsonl\\\")\\n\\ndef _safe_json(body: bytes):\\n    try:\\n        return json.loads(body.decode(\\\"utf-8\\\"))\\n    except Exception:\\n        return None\\n\\ndef _is_copilot_host(host: str) -> bool:\\n    return host in ALLOWED_HOSTS\\n\\nclass CopilotLogger:\\n    def request(self, flow: http.HTTPFlow):\\n        if not _is_copilot_host(flow.request.host):\\n            return\\n        flow.metadata[\\\"t_req_start\\\"] = flow.request.timestamp_start\\n\\n    def response(self, flow: http.HTTPFlow):\\n        if not _is_copilot_host(flow.request.host) or not flow.response:\\n            return\\n\\n        t_req = flow.request.timestamp_start\\n        t_resp_start = flow.response.timestamp_start\\n        t_resp_end = flow.response.timestamp_end\\n        latency_total = (t_resp_end - t_req) if (t_resp_end and t_req) else None\\n        ttft = (t_resp_start - t_req) if (t_resp_start and t_req) else None\\n\\n        req_ct = flow.request.headers.get(\\\"content-type\\\", \\\"\\\")\\n        resp_ct = flow.response.headers.get(\\\"content-type\\\", \\\"\\\")\\n\\n        rec = {\\n            \\\"ts\\\": t_resp_end,\\n            \\\"method\\\": flow.request.method,\\n            \\\"host\\\": flow.request.host,\\n            \\\"path\\\": flow.request.path,\\n            \\\"status\\\": flow.response.status_code,\\n            \\\"latency_total_s\\\": latency_total,\\n            \\\"ttft_s\\\": ttft,\\n            \\\"req_bytes\\\": len(flow.request.raw_content or b\\\"\\\"),\\n            \\\"resp_bytes\\\": len(flow.response.raw_content or b\\\"\\\"),\\n            \\\"req_ct\\\": req_ct,\\n            \\\"resp_ct\\\": resp_ct,\\n            \\\"req_json_snippet\\\": (json.dumps(_safe_json(flow.request.raw_content))[:2000] + \\\"...\\\") if...", "resp_json_snippet": null}
{"ts": 1756159361.7569559, "method": "POST", "host": "proxy.individual.githubcopilot.com", "path": "/chat/completions", "status": 200, "latency_total_s": 0.2485368251800537, "ttft_s": 0.24658894538879395, "req_bytes": 16331, "resp_bytes": 7845, "req_ct": "application/json", "resp_ct": "text/event-stream", "req_json_snippet": "{\"messages\": [{\"role\": \"system\", \"content\": \"Your role as an AI assistant is to help developers complete their code tasks by assisting in editing specific sections of code marked by the <|code_to_edit|> and <|/code_to_edit|> tags, while adhering to Microsoft's content policies and avoiding the creation of content that violates copyrights.\\n\\nYou have access to the following information to help you make informed suggestions:\\n\\n- recently_viewed_code_snippets: These are code snippets that the developer has recently looked at, which might provide context or examples relevant to the current task. They are listed from oldest to newest, with line numbers in the form #| to help you understand the edit diff history. It's possible these are entirely irrelevant to the developer's change.\\n- current_file_content: The content of the file the developer is currently working on, providing the broader context of the code. Line numbers in the form #| are included to help you understand the edit diff history.\\n- edit_diff_history: A record of changes made to the code, helping you understand the evolution of the code and the developer's intentions. These changes are listed from oldest to latest. It's possible a lot of old edit diff history is entirely irrelevant to the developer's change.\\n- area_around_code_to_edit: The context showing the code surrounding the section to be edited.\\n- cursor position marked as <|cursor|>: Indicates where the developer's cursor is currently located, which can be crucial for understanding what part of the code they are focusing on.\\n\\nYour task is to predict and complete the changes the developer would have made next in the <|code_to_edit|> section. The developer may have stopped in the middle of typing. Your goal is to keep the developer on the path that you think they're following. Some examples include further implementing a class, method, or variable, or improving the quality of the code. Make sure the developer doesn't get distracted and ensure y...", "resp_json_snippet": null}
{"ts": 1756159363.078284, "method": "POST", "host": "proxy.individual.githubcopilot.com", "path": "/chat/completions", "status": 200, "latency_total_s": 0.32506608963012695, "ttft_s": 0.24492502212524414, "req_bytes": 11315, "resp_bytes": 21670, "req_ct": "application/json", "resp_ct": "text/event-stream", "req_json_snippet": "{\"messages\": [{\"role\": \"system\", \"content\": \"Your role as an AI assistant is to help developers complete their code tasks by assisting in editing specific sections of code marked by the <|code_to_edit|> and <|/code_to_edit|> tags, while adhering to Microsoft's content policies and avoiding the creation of content that violates copyrights.\\n\\nYou have access to the following information to help you make informed suggestions:\\n\\n- recently_viewed_code_snippets: These are code snippets that the developer has recently looked at, which might provide context or examples relevant to the current task. They are listed from oldest to newest, with line numbers in the form #| to help you understand the edit diff history. It's possible these are entirely irrelevant to the developer's change.\\n- current_file_content: The content of the file the developer is currently working on, providing the broader context of the code. Line numbers in the form #| are included to help you understand the edit diff history.\\n- edit_diff_history: A record of changes made to the code, helping you understand the evolution of the code and the developer's intentions. These changes are listed from oldest to latest. It's possible a lot of old edit diff history is entirely irrelevant to the developer's change.\\n- area_around_code_to_edit: The context showing the code surrounding the section to be edited.\\n- cursor position marked as <|cursor|>: Indicates where the developer's cursor is currently located, which can be crucial for understanding what part of the code they are focusing on.\\n\\nYour task is to predict and complete the changes the developer would have made next in the <|code_to_edit|> section. The developer may have stopped in the middle of typing. Your goal is to keep the developer on the path that you think they're following. Some examples include further implementing a class, method, or variable, or improving the quality of the code. Make sure the developer doesn't get distracted and ensure y...", "resp_json_snippet": null}
